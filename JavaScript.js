!function(e){function t(t){for(var r,a,s=t[0],u=t[1],l=t[2],f=0,h=[];f0)for(var h=0;h0)for(var d=0;d0)for(var m=0;m0&&je.fromTo(l,{y:"3rem",alpha:0},{y:0,alpha:1,stagger:.1,duration:2,ease:"expo"},.65),i?Object(f.f)(i).then((function(){Se.a.close(),je.play(),a.a.dom.body.style.cursor="default",a.a.flags.locked=!1,a.a.flags.dropdown=!1})):(Se.a.close(),je.play(),a.a.dom.body.style.cursor="default",a.a.flags.locked=!1,a.a.flags.dropdown=!1),t.remove(),r()}},{key:"out",value:function(e){var t=e.from,n=e.done;a.a.dom.body.style.cursor="progress",a.a.flags.locked=!0,t.dataset.pid&&h.a.removePlanes(t.dataset.pid,!1),n()}}])&&Pe(n.prototype,r),i&&Pe(n,i),t}(u.a.Transition);u.a.initial=!1;var Ae=new u.a.Core({renderers:{home:C,projects:A,project:U,about:q,contact:ee,press:se,newsSingle:de,default:b},transitions:{default:xe,contextual:{menu:ke}}});function Re(e,t){for(var n=0;na.bp&&i.a.getBirdState()?i.a.switchBird(!1):t<=a.bp&&!i.a.getBirdState()&&i.a.switchBird(!0)}},(n="run")in(t=this)?Object.defineProperty(t,n,{value:o,enumerable:!0,configurable:!0,writable:!0}):t[n]=o,this.bottom=null,this.bp=null,this.stopEl=null,this.tl=null}var t,n,c;return t=e,(n=[{key:"update",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:o.a.dom.body;this.stopEl=Object(a.g)("[data-bird-stop",e),this.stopEl&&(!i.a.getBirdState()&&i.a.switchBird(!0),this.bottom=this.stopEl.getBoundingClientRect().bottom-o.a.bounds.wh,this.createTl(),this.addEvents())}},{key:"addEvents",value:function(){s.a.on("tick",this.run)}},{key:"createTl",value:function(){var e=l,t=o.a.page.current;this.tl&&this.tl.kill(),this.tl=r.a.timeline({paused:!0}),"home"===t?(this.bp=this.bottom+o.a.bounds.wh/2,this.tl.to(i.a.bird.position,{duration:1,x:e[1].position.x,ease:"power1.out"}).to(i.a.bird.rotation,{duration:1,y:e[1].rotation.y,ease:"power1.out"},0).to(i.a.bird.position,{duration:1,x:e[2].position.x,ease:"power1.inOut"},1).to(i.a.bird.rotation,{duration:1,y:e[2].rotation.y,ease:"power1.inOut"},1)):"about"===t?(this.bottom+=o.a.bounds.wh/2,this.bp=this.bottom,this.tl.to(i.a.bird.position,{duration:1,x:e[1].position.x,ease:"power1.inOut"}).to(i.a.bird.rotation,{duration:1,y:e[1].rotation.y,ease:"power1.inOut"},0)):"contact"===t&&(this.bp=this.bottom-o.a.bounds.wh/2,this.tl.to(i.a.bird.position,{duration:1,x:e[0].position.x,ease:"power1.inOut"}).to(i.a.bird.rotation,{duration:1,y:e[0].rotation.y,ease:"power1.inOut"},0))}},{key:"removeEvents",value:function(){s.a.off("tick",this.run)}},{key:"clean",value:function(){this.tl&&(this.removeEvents(),this.tl.kill(),this.bottom=this.stopEl=null)}}])&&u(t.prototype,n),c&&u(t,c),e}())}).call(this,n("i8eK"))},"3jgs":function(e,t,n){var r,i,o,a;function s(e){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}a=function(e){"use strict"; /*! * DrawSVGPlugin 3.0.0 * https://greensock.com * * @license Copyright 2008-2019, GreenSock. All rights reserved. * Subject to the terms at https://greensock.com/standard-license or for * Club GreenSock members, the agreement issued with that membership. * @author: Jack Doyle, jack@greensock.com */var t,n,r,i,o,a=function(){return"undefined"!=typeof window},s=function(){return t||a()&&(t=window.gsap)&&t.registerPlugin&&t},u=/[-+=\.]*\d+[\.e\-\+]*\d*[e\-\+]*\d*/gi,l={rect:["width","height"],circle:["r","r"],ellipse:["rx","ry"],line:["x2","y2"]},c=function(e){return Math.round(1e4*e)/1e4},f=function(e){return parseFloat(e||0)},h=function(e,t){return f(e.getAttribute(t))},p=Math.sqrt,d=function(e,t,n,r,i,o){return p(Math.pow((f(n)-f(e))*i,2)+Math.pow((f(r)-f(t))*o,2))},v=function(e){return console.warn(e)},m=function(e){return"non-scaling-stroke"===e.getAttribute("vector-effect")},y=function(e){if(!(e=n(e)[0]))return 0;var t,r,i,o,a,s,c,f=e.tagName.toLowerCase(),y=e.style,g=1,b=1;m(e)&&(b=e.getScreenCTM(),g=p(b.a*b.a+b.b*b.b),b=p(b.d*b.d+b.c*b.c));try{r=e.getBBox()}catch(e){v("Some browsers won't measure invisible elements (like display:none or masks inside defs).")}var D=r||{x:0,y:0,width:0,height:0},w=D.x,x=D.y,E=D.width,O=D.height;if(r&&(E||O)||!l[f]||(E=h(e,l[f][0]),O=h(e,l[f][1]),"rect"!==f&&"line"!==f&&(E*=2,O*=2),"line"===f&&(w=h(e,"x1"),x=h(e,"y1"),E=Math.abs(E-w),O=Math.abs(O-x))),"path"===f)o=y.strokeDasharray,y.strokeDasharray="none",t=e.getTotalLength()||0,g!==b&&v("Warning: length cannot be measured when vector-effect is non-scaling-stroke and the element isn't proportionally scaled."),t*=(g+b)/2,y.strokeDasharray=o;else if("rect"===f)t=2*E*g+2*O*b;else if("line"===f)t=d(w,x,w+E,x+O,g,b);else if("polyline"===f||"polygon"===f)for(i=e.getAttribute("points").match(u)||[],"polygon"===f&&i.push(i[0],i[1]),t=0,a=2;at&&(o=t),[Math.max(0,-a),Math.max(0,o-a)]},b=function(){a()&&(r=window,o=t=s(),n=t.utils.toArray,i=-1!==((r.navigator||{}).userAgent||"").indexOf("Edge"))},D={version:"3.0.0",name:"drawSVG",register:function(e){t=e,b()},init:function(e,t,n,a,s){if(!e.getBBox)return!1;o||b();var u,l,h,p,d=y(e)+1;return this._style=e.style,this._target=e,t+""=="true"?t="0 100%":t?-1===(t+"").indexOf(" ")&&(t="0 "+t):t="0 0",l=function(e,t,n){var r,i,o=e.indexOf(" ");return o<0?(r=void 0!==n?n+"":e,i=e):(r=e.substr(0,o),i=e.substr(o+1)),(r=~r.indexOf("%")?f(r)/100*t:f(r))>(i=~i.indexOf("%")?f(i)/100*t:f(i))?[i,r]:[r,i]}(t,d,(u=g(e,d))[0]),this._length=c(d+10),0===u[0]&&0===l[0]?(h=Math.max(1e-5,l[1]-d),this._dash=c(d+h),this._offset=c(d-u[1]+h),this._offsetPT=this.add(this,"_offset",this._offset,c(d-l[1]+h))):(this._dash=c(u[1]-u[0])||1e-6,this._offset=c(-u[0]),this._dashPT=this.add(this,"_dash",this._dash,c(l[1]-l[0])||1e-5),this._offsetPT=this.add(this,"_offset",this._offset,c(-l[0]))),i&&(p=r.getComputedStyle(e)).strokeLinecap!==p.strokeLinejoin&&(l=f(p.strokeMiterlimit),this.add(e.style,"strokeMiterlimit",l,l+.01)),this._live=m(e)||~(t+"").indexOf("live"),this._props.push("drawSVG"),1},render:function(e,t){var n,r,i,o,a=t._pt,s=t._style;if(a){for(t._live&&(n=y(t._target)+11)!==t._length&&(r=n/t._length,t._length=n,t._offsetPT.s*=r,t._offsetPT.c*=r,t._dashPT?(t._dashPT.s*=r,t._dashPT.c*=r):t._dash*=r);a;)a.r(e,a.d),a=a._next;i=t._dash,o=t._offset,n=t._length,s.strokeDashoffset=t._offset,1!==e&&e?s.strokeDasharray=i+"px,"+n+"px":(i-o<.001&&n-i<=10&&(s.strokeDashoffset=o+1),s.strokeDasharray=o<.001&&n-i<=10?"none":o===i?"0px, 999999px":i+"px,"+n+"px")}},getLength:y,getPosition:g};s()&&t.registerPlugin(D),e.DrawSVGPlugin=D,e.default=D,Object.defineProperty(e,"__esModule",{value:!0})},"object"===s(t)&&void 0!==e?a(t):(i=[t],void 0===(o="function"==typeof(r=a)?r.apply(t,i):r)||(e.exports=o))},"6wCR":function(e,t,n){var r,i,o,a;function s(e){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}a=function(e){"use strict";var t,n,r,i=/([\uD800-\uDBFF][\uDC00-\uDFFF](?:[\u200D\uFE0F][\uD800-\uDBFF][\uDC00-\uDFFF]){2,}|\uD83D\uDC69(?:\u200D(?:(?:\uD83D\uDC69\u200D)?\uD83D\uDC67|(?:\uD83D\uDC69\u200D)?\uD83D\uDC66)|\uD83C[\uDFFB-\uDFFF])|\uD83D\uDC69\u200D(?:\uD83D\uDC69\u200D)?\uD83D\uDC66\u200D\uD83D\uDC66|\uD83D\uDC69\u200D(?:\uD83D\uDC69\u200D)?\uD83D\uDC67\u200D(?:\uD83D[\uDC66\uDC67])|\uD83C\uDFF3\uFE0F\u200D\uD83C\uDF08|(?:\uD83C[\uDFC3\uDFC4\uDFCA]|\uD83D[\uDC6E\uDC71\uDC73\uDC77\uDC81\uDC82\uDC86\uDC87\uDE45-\uDE47\uDE4B\uDE4D\uDE4E\uDEA3\uDEB4-\uDEB6]|\uD83E[\uDD26\uDD37-\uDD39\uDD3D\uDD3E\uDDD6-\uDDDD])(?:\uD83C[\uDFFB-\uDFFF])\u200D[\u2640\u2642]\uFE0F|\uD83D\uDC69(?:\uD83C[\uDFFB-\uDFFF])\u200D(?:\uD83C[\uDF3E\uDF73\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92])|(?:\uD83C[\uDFC3\uDFC4\uDFCA]|\uD83D[\uDC6E\uDC6F\uDC71\uDC73\uDC77\uDC81\uDC82\uDC86\uDC87\uDE45-\uDE47\uDE4B\uDE4D\uDE4E\uDEA3\uDEB4-\uDEB6]|\uD83E[\uDD26\uDD37-\uDD39\uDD3C-\uDD3E\uDDD6-\uDDDF])\u200D[\u2640\u2642]\uFE0F|\uD83C\uDDFD\uD83C\uDDF0|\uD83C\uDDF6\uD83C\uDDE6|\uD83C\uDDF4\uD83C\uDDF2|\uD83C\uDDE9(?:\uD83C[\uDDEA\uDDEC\uDDEF\uDDF0\uDDF2\uDDF4\uDDFF])|\uD83C\uDDF7(?:\uD83C[\uDDEA\uDDF4\uDDF8\uDDFA\uDDFC])|\uD83C\uDDE8(?:\uD83C[\uDDE6\uDDE8\uDDE9\uDDEB-\uDDEE\uDDF0-\uDDF5\uDDF7\uDDFA-\uDDFF])|(?:\u26F9|\uD83C[\uDFCB\uDFCC]|\uD83D\uDD75)(?:\uFE0F\u200D[\u2640\u2642]|(?:\uD83C[\uDFFB-\uDFFF])\u200D[\u2640\u2642])\uFE0F|(?:\uD83D\uDC41\uFE0F\u200D\uD83D\uDDE8|\uD83D\uDC69(?:\uD83C[\uDFFB-\uDFFF])\u200D[\u2695\u2696\u2708]|\uD83D\uDC69\u200D[\u2695\u2696\u2708]|\uD83D\uDC68(?:(?:\uD83C[\uDFFB-\uDFFF])\u200D[\u2695\u2696\u2708]|\u200D[\u2695\u2696\u2708]))\uFE0F|\uD83C\uDDF2(?:\uD83C[\uDDE6\uDDE8-\uDDED\uDDF0-\uDDFF])|\uD83D\uDC69\u200D(?:\uD83C[\uDF3E\uDF73\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\u2764\uFE0F\u200D(?:\uD83D\uDC8B\u200D(?:\uD83D[\uDC68\uDC69])|\uD83D[\uDC68\uDC69]))|\uD83C\uDDF1(?:\uD83C[\uDDE6-\uDDE8\uDDEE\uDDF0\uDDF7-\uDDFB\uDDFE])|\uD83C\uDDEF(?:\uD83C[\uDDEA\uDDF2\uDDF4\uDDF5])|\uD83C\uDDED(?:\uD83C[\uDDF0\uDDF2\uDDF3\uDDF7\uDDF9\uDDFA])|\uD83C\uDDEB(?:\uD83C[\uDDEE-\uDDF0\uDDF2\uDDF4\uDDF7])|[#\*0-9]\uFE0F\u20E3|\uD83C\uDDE7(?:\uD83C[\uDDE6\uDDE7\uDDE9-\uDDEF\uDDF1-\uDDF4\uDDF6-\uDDF9\uDDFB\uDDFC\uDDFE\uDDFF])|\uD83C\uDDE6(?:\uD83C[\uDDE8-\uDDEC\uDDEE\uDDF1\uDDF2\uDDF4\uDDF6-\uDDFA\uDDFC\uDDFD\uDDFF])|\uD83C\uDDFF(?:\uD83C[\uDDE6\uDDF2\uDDFC])|\uD83C\uDDF5(?:\uD83C[\uDDE6\uDDEA-\uDDED\uDDF0-\uDDF3\uDDF7-\uDDF9\uDDFC\uDDFE])|\uD83C\uDDFB(?:\uD83C[\uDDE6\uDDE8\uDDEA\uDDEC\uDDEE\uDDF3\uDDFA])|\uD83C\uDDF3(?:\uD83C[\uDDE6\uDDE8\uDDEA-\uDDEC\uDDEE\uDDF1\uDDF4\uDDF5\uDDF7\uDDFA\uDDFF])|\uD83C\uDFF4\uDB40\uDC67\uDB40\uDC62(?:\uDB40\uDC77\uDB40\uDC6C\uDB40\uDC73|\uDB40\uDC73\uDB40\uDC63\uDB40\uDC74|\uDB40\uDC65\uDB40\uDC6E\uDB40\uDC67)\uDB40\uDC7F|\uD83D\uDC68(?:\u200D(?:\u2764\uFE0F\u200D(?:\uD83D\uDC8B\u200D)?\uD83D\uDC68|(?:(?:\uD83D[\uDC68\uDC69])\u200D)?\uD83D\uDC66\u200D\uD83D\uDC66|(?:(?:\uD83D[\uDC68\uDC69])\u200D)?\uD83D\uDC67\u200D(?:\uD83D[\uDC66\uDC67])|\uD83C[\uDF3E\uDF73\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92])|(?:\uD83C[\uDFFB-\uDFFF])\u200D(?:\uD83C[\uDF3E\uDF73\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]))|\uD83C\uDDF8(?:\uD83C[\uDDE6-\uDDEA\uDDEC-\uDDF4\uDDF7-\uDDF9\uDDFB\uDDFD-\uDDFF])|\uD83C\uDDF0(?:\uD83C[\uDDEA\uDDEC-\uDDEE\uDDF2\uDDF3\uDDF5\uDDF7\uDDFC\uDDFE\uDDFF])|\uD83C\uDDFE(?:\uD83C[\uDDEA\uDDF9])|\uD83C\uDDEE(?:\uD83C[\uDDE8-\uDDEA\uDDF1-\uDDF4\uDDF6-\uDDF9])|\uD83C\uDDF9(?:\uD83C[\uDDE6\uDDE8\uDDE9\uDDEB-\uDDED\uDDEF-\uDDF4\uDDF7\uDDF9\uDDFB\uDDFC\uDDFF])|\uD83C\uDDEC(?:\uD83C[\uDDE6\uDDE7\uDDE9-\uDDEE\uDDF1-\uDDF3\uDDF5-\uDDFA\uDDFC\uDDFE])|\uD83C\uDDFA(?:\uD83C[\uDDE6\uDDEC\uDDF2\uDDF3\uDDF8\uDDFE\uDDFF])|\uD83C\uDDEA(?:\uD83C[\uDDE6\uDDE8\uDDEA\uDDEC\uDDED\uDDF7-\uDDFA])|\uD83C\uDDFC(?:\uD83C[\uDDEB\uDDF8])|(?:\u26F9|\uD83C[\uDFCB\uDFCC]|\uD83D\uDD75)(?:\uD83C[\uDFFB-\uDFFF])|(?:\uD83C[\uDFC3\uDFC4\uDFCA]|\uD83D[\uDC6E\uDC71\uDC73\uDC77\uDC81\uDC82\uDC86\uDC87\uDE45-\uDE47\uDE4B\uDE4D\uDE4E\uDEA3\uDEB4-\uDEB6]|\uD83E[\uDD26\uDD37-\uDD39\uDD3D\uDD3E\uDDD6-\uDDDD])(?:\uD83C[\uDFFB-\uDFFF])|(?:[\u261D\u270A-\u270D]|\uD83C[\uDF85\uDFC2\uDFC7]|\uD83D[\uDC42\uDC43\uDC46-\uDC50\uDC66\uDC67\uDC70\uDC72\uDC74-\uDC76\uDC78\uDC7C\uDC83\uDC85\uDCAA\uDD74\uDD7A\uDD90\uDD95\uDD96\uDE4C\uDE4F\uDEC0\uDECC]|\uD83E[\uDD18-\uDD1C\uDD1E\uDD1F\uDD30-\uDD36\uDDD1-\uDDD5])(?:\uD83C[\uDFFB-\uDFFF])|\uD83D\uDC68(?:\u200D(?:(?:(?:\uD83D[\uDC68\uDC69])\u200D)?\uD83D\uDC67|(?:(?:\uD83D[\uDC68\uDC69])\u200D)?\uD83D\uDC66)|\uD83C[\uDFFB-\uDFFF])|(?:[\u261D\u26F9\u270A-\u270D]|\uD83C[\uDF85\uDFC2-\uDFC4\uDFC7\uDFCA-\uDFCC]|\uD83D[\uDC42\uDC43\uDC46-\uDC50\uDC66-\uDC69\uDC6E\uDC70-\uDC78\uDC7C\uDC81-\uDC83\uDC85-\uDC87\uDCAA\uDD74\uDD75\uDD7A\uDD90\uDD95\uDD96\uDE45-\uDE47\uDE4B-\uDE4F\uDEA3\uDEB4-\uDEB6\uDEC0\uDECC]|\uD83E[\uDD18-\uDD1C\uDD1E\uDD1F\uDD26\uDD30-\uDD39\uDD3D\uDD3E\uDDD1-\uDDDD])(?:\uD83C[\uDFFB-\uDFFF])?|(?:[\u231A\u231B\u23E9-\u23EC\u23F0\u23F3\u25FD\u25FE\u2614\u2615\u2648-\u2653\u267F\u2693\u26A1\u26AA\u26AB\u26BD\u26BE\u26C4\u26C5\u26CE\u26D4\u26EA\u26F2\u26F3\u26F5\u26FA\u26FD\u2705\u270A\u270B\u2728\u274C\u274E\u2753-\u2755\u2757\u2795-\u2797\u27B0\u27BF\u2B1B\u2B1C\u2B50\u2B55]|\uD83C[\uDC04\uDCCF\uDD8E\uDD91-\uDD9A\uDDE6-\uDDFF\uDE01\uDE1A\uDE2F\uDE32-\uDE36\uDE38-\uDE3A\uDE50\uDE51\uDF00-\uDF20\uDF2D-\uDF35\uDF37-\uDF7C\uDF7E-\uDF93\uDFA0-\uDFCA\uDFCF-\uDFD3\uDFE0-\uDFF0\uDFF4\uDFF8-\uDFFF]|\uD83D[\uDC00-\uDC3E\uDC40\uDC42-\uDCFC\uDCFF-\uDD3D\uDD4B-\uDD4E\uDD50-\uDD67\uDD7A\uDD95\uDD96\uDDA4\uDDFB-\uDE4F\uDE80-\uDEC5\uDECC\uDED0-\uDED2\uDEEB\uDEEC\uDEF4-\uDEF8]|\uD83E[\uDD10-\uDD3A\uDD3C-\uDD3E\uDD40-\uDD45\uDD47-\uDD4C\uDD50-\uDD6B\uDD80-\uDD97\uDDC0\uDDD0-\uDDE6])|(?:[#\*0-9\xA9\xAE\u203C\u2049\u2122\u2139\u2194-\u2199\u21A9\u21AA\u231A\u231B\u2328\u23CF\u23E9-\u23F3\u23F8-\u23FA\u24C2\u25AA\u25AB\u25B6\u25C0\u25FB-\u25FE\u2600-\u2604\u260E\u2611\u2614\u2615\u2618\u261D\u2620\u2622\u2623\u2626\u262A\u262E\u262F\u2638-\u263A\u2640\u2642\u2648-\u2653\u2660\u2663\u2665\u2666\u2668\u267B\u267F\u2692-\u2697\u2699\u269B\u269C\u26A0\u26A1\u26AA\u26AB\u26B0\u26B1\u26BD\u26BE\u26C4\u26C5\u26C8\u26CE\u26CF\u26D1\u26D3\u26D4\u26E9\u26EA\u26F0-\u26F5\u26F7-\u26FA\u26FD\u2702\u2705\u2708-\u270D\u270F\u2712\u2714\u2716\u271D\u2721\u2728\u2733\u2734\u2744\u2747\u274C\u274E\u2753-\u2755\u2757\u2763\u2764\u2795-\u2797\u27A1\u27B0\u27BF\u2934\u2935\u2B05-\u2B07\u2B1B\u2B1C\u2B50\u2B55\u3030\u303D\u3297\u3299]|\uD83C[\uDC04\uDCCF\uDD70\uDD71\uDD7E\uDD7F\uDD8E\uDD91-\uDD9A\uDDE6-\uDDFF\uDE01\uDE02\uDE1A\uDE2F\uDE32-\uDE3A\uDE50\uDE51\uDF00-\uDF21\uDF24-\uDF93\uDF96\uDF97\uDF99-\uDF9B\uDF9E-\uDFF0\uDFF3-\uDFF5\uDFF7-\uDFFF]|\uD83D[\uDC00-\uDCFD\uDCFF-\uDD3D\uDD49-\uDD4E\uDD50-\uDD67\uDD6F\uDD70\uDD73-\uDD7A\uDD87\uDD8A-\uDD8D\uDD90\uDD95\uDD96\uDDA4\uDDA5\uDDA8\uDDB1\uDDB2\uDDBC\uDDC2-\uDDC4\uDDD1-\uDDD3\uDDDC-\uDDDE\uDDE1\uDDE3\uDDE8\uDDEF\uDDF3\uDDFA-\uDE4F\uDE80-\uDEC5\uDECB-\uDED2\uDEE0-\uDEE5\uDEE9\uDEEB\uDEEC\uDEF0\uDEF3-\uDEF8]|\uD83E[\uDD10-\uDD3A\uDD3C-\uDD3E\uDD40-\uDD45\uDD47-\uDD4C\uDD50-\uDD6B\uDD80-\uDD97\uDDC0\uDDD0-\uDDE6])\uFE0F)/,o=/(?:\r|\n|\t\t)/g,a=/(?:\s\s+)/g,u=function(){t=document,n=window,r=1},l=function(e){return n.getComputedStyle(e)},c=Array.isArray,f=[].slice,h=function(e,n){var r;return c(e)?e:"string"===(r=s(e))&&!n&&e?f.call(t.querySelectorAll(e),0):e&&"object"===r&&"length"in e?f.call(e,0):e?[e]:[]},p=function(e){return"absolute"===e.position||!0===e.absolute},d=function(e,t){for(var n,r=t.length;--r>-1;)if(n=t[r],e.substr(0,n.length)===n)return n.length},v=function(e,t){void 0===e&&(e="");var n=~e.indexOf("++"),r=1;return n&&(e=e.split("++").join("")),function(){return"<"+t+" style='position:relative;display:inline-block;'"+(e?" class='"+e+(n?r++:"")+"'>":">")}},m=function e(t,n,r){var i=t.nodeType;if(1===i||9===i||11===i)for(t=t.firstChild;t;t=t.nextSibling)e(t,n,r);else 3!==i&&4!==i||(t.nodeValue=t.nodeValue.split(n).join(r))},y=function(e,t){for(var n=t.length;--n>-1;)e.push(t[n])},g=function(e,t,n){for(var r;e&&e!==t;){if(r=e._next||e.nextSibling)return r.textContent.charAt(0)===n;e=e.parentNode||e._parent}},b=function e(t){var n,r,i=h(t.childNodes),o=i.length;for(n=0;nR&&("BR"!==h.nodeName||0===u)&&(w=[],N.push(w),T=C),X&&(h._x=h.offsetLeft,h._y=C,h._w=h.offsetWidth,h._h=h.offsetHeight),N&&((h._isSplit&&v||!H&&v||V&&v||!V&&h.parentNode.parentNode===e&&!h.parentNode._isSplit)&&(w.push(h),h._x-=F,g(h,e,z)&&(h._wordEnd=!0)),"BR"===h.nodeName&&(h.nextSibling&&"BR"===h.nextSibling.nodeName||0===u)&&N.push([])));for(u=0;u-1;)K[u].parentNode.removeChild(K[u]);if(N){for(X&&(O=t.createElement(U),e.appendChild(O),S=O.offsetWidth+"px",C=O.offsetParent===e?0:e.offsetLeft,e.removeChild(O)),E=e.style.cssText,e.style.cssText="display:none;";e.firstChild;)e.removeChild(e.firstChild);for(x=" "===z&&(!X||!V&&!H),u=0;ue.clientHeight&&(e.style.height=s-k+"px",e.clientHeighte.clientWidth&&(e.style.width=a-A+"px",e.clientWidth",S=1,C=n.specialChars?"function"==typeof n.specialChars?n.specialChars:d:null,P=t.createElement("div"),F=e.parentNode;for(F.insertBefore(P,e),P.textContent=e.nodeValue,F.removeChild(e),y=-1!==(u=function e(t){var n=t.nodeType,r="";if(1===n||9===n||11===n){if("string"==typeof t.textContent)return t.textContent;for(t=t.firstChild;t;t=t.nextSibling)r+=e(t)}else if(3===n||4===n)return t.nodeValue;return r} /*! * SplitText: 3.0.0 * https://greensock.com * * @license Copyright 2008-2019, GreenSock. All rights reserved. * Subject to the terms at https://greensock.com/standard-license or for * Club GreenSock members, the agreement issued with that membership. * @author: Jack Doyle, jack@greensock.com */(e=P)).indexOf("<"),!1!==n.reduceWhiteSpace&&(u=u.replace(a," ").replace(o,"")),y&&(u=u.split("<").join("{{LT}}")),h=u.length,l=(" "===u.charAt(0)?E:"")+r(),c=0;c":v,c+=g-1;else if(v===x&&u.charAt(c-1)!==x&&c){for(l+=S?O:"",S=0;u.charAt(c+1)===x;)l+=E,c++;c===h-1?l+=E:")"!==u.charAt(c+1)&&(l+=E+r(),S=1)}else"{"===v&&"{{LT}}"===u.substr(c,6)?(l+=D?s()+"{{LT}}":"{{LT}}",c+=5):v.charCodeAt(0)>=55296&&v.charCodeAt(0)<=56319||u.charCodeAt(c+1)>=65024&&u.charCodeAt(c+1)<=65039?(f=((u.substr(c,12).split(i)||[])[1]||"").length||2,l+=D&&" "!==v?s()+u.substr(c,f)+"":u.substr(c,f),c+=f-1):l+=D&&" "!==v?s()+v+"":v;e.outerHTML=l+(S?O:""),y&&m(F,"{{LT}}","<")},E=function e(t,n,r,i){var o,a,s=h(t.childNodes),u=s.length,c=p(n);if(3!==t.nodeType||u>1){for(n.absolute=!1,o=0;o-1;)r=this.elements[i],this._originals[i]=r.innerHTML,t=r.clientHeight,n=r.clientWidth,E(r,e,a,s),w(r,e,this.chars,this.words,this.lines,n,t);return this.chars.reverse(),this.words.reverse(),this.lines.reverse(),this.isSplit=!0,this},t.revert=function(){var e=this._originals;if(!e)throw"revert() call wasn't scoped properly.";return this.elements.forEach((function(t,n){return t.innerHTML=e[n]})),this.chars=[],this.words=[],this.lines=[],this.isSplit=!1,this},e.create=function(t,n){return new e(t,n)},e}();O.version="3.0.0",e.SplitText=O,e.default=O,Object.defineProperty(e,"__esModule",{value:!0})},"object"===s(t)&&void 0!==e?a(t):(i=[t],void 0===(o="function"==typeof(r=a)?r.apply(t,i):r)||(e.exports=o))},AQNj:function(e,t,n){"use strict";(function(e,t){var r,i=n("O2cr"),o=n("WrwZ");function a(e){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}!function e(t,n,i){function o(s,u){if(!n[s]){if(!t[s]){if(!u&&("function"==typeof r&&r))return r(s,!0);if(a)return a(s,!0);var l=new Error("Cannot find module '"+s+"'");throw l.code="MODULE_NOT_FOUND",l}var c=n[s]={exports:{}};t[s][0].call(c.exports,(function(e){return o(t[s][1][e]||e)}),c,c.exports,e,t,n,i)}return n[s].exports}for(var a="function"==typeof r&&r,s=0;s>>r&1&&(n=a(n,o(t<>>30)),i),r[i]=o(4294967295&r[i])},this.init_by_array=function(t,n){var i,u,l,c,f;for(this.init_genrand(19650218),i=1,u=0,l=n>>30),1664525)),t[u]),u),r[i]=o(4294967295&r[i]),u++,e<=++i&&(r[0]=r[623],i=1),n<=u&&(u=0);for(l=623;l;l--)r[i]=(c=o((dbg=r[i])^s(o(r[i-1]^r[i-1]>>>30),1566083941)))<(f=i)?o(4294967296-(f-c)&4294967295):c-f,r[i]=o(4294967295&r[i]),e<=++i&&(r[0]=r[623],i=1);r[0]=2147483648};var u=[0,2567483615];this.genrand_int32=function(){var a;if(e<=i){var s;for(625==i&&this.init_genrand(5489),s=0;s<227;s++)a=o(r[s]&t|r[s+1]&n),r[s]=o(r[s+397]^a>>>1^u[1&a]);for(;s<623;s++)a=o(r[s]&t|r[s+1]&n),r[s]=o(r[s+-227]^a>>>1^u[1&a]);a=o(r[623]&t|r[0]&n),r[623]=o(r[396]^a>>>1^u[1&a]),i=0}return a=o((a=r[i++])^a>>>11),a=o(a^a<<7&2636928640),a=o(a^a<<15&4022730752),o(a^a>>>18)},this.genrand_int31=function(){return this.genrand_int32()>>>1},this.genrand_real1=function(){return this.genrand_int32()*(1/4294967295)},this.genrand_real2=function(){return this.genrand_int32()*(1/4294967296)},this.genrand_real3=function(){return(this.genrand_int32()+.5)*(1/4294967296)},this.genrand_res53=function(){return 1/9007199254740992*(67108864*(this.genrand_int32()>>>5)+(this.genrand_int32()>>>6))}});r.init_genrand((new Date).getTime()%1e9),n.rand=function(e){return e=e||32768,Math.floor(r.genrand_real2()*e)},n.seed=function(e){if("number"!=typeof e)throw new Error("seed(S) must take numeric argument; is "+a(e));r.init_genrand(e)},n.seed_array=function(e){if("object"!=a(e))throw new Error("seed_array(A) must take array of numbers; is "+a(e));r.init_by_array(e)}},{}],3:[function(t,n,r){Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var a=v(t("./io/AssetsManager")),s=v(t("./io/GLTFAsset")),u=v(t("../sys/Utils")),l=v(t("./gfx/utils/GLInfo")),c=v(t("../sys/Random")),f=v(t("./gfx/utils/GfxUtils")),h=v(t("./gfx/VFXRenderer")),p=v(t("./gfx/GPUParticleSim")),d=v(t("../ui/CameraController"));function v(e){return e&&e.__esModule?e:{default:e}}function m(e,t){for(var n=0;n x0.y ? 1.0 : 0.0\n //i1.y = 1.0 - i1.x;\n i1 = (x0.x > x0.y) ? vec2(1.0, 0.0) : vec2(0.0, 1.0);\n // x0 = x0 - 0.0 + 0.0 * C.xx ;\n // x1 = x0 - i1 + 1.0 * C.xx ;\n // x2 = x0 - 1.0 + 2.0 * C.xx ;\n vec4 x12 = x0.xyxy + C.xxzz;\n x12.xy -= i1;\n\n// Permutations\n i = mod289_0(i); // Avoid truncation effects in permutation\n vec3 p = permute_0( permute_0( i.y + vec3(0.0, i1.y, 1.0 ))\n + i.x + vec3(0.0, i1.x, 1.0 ));\n\n vec3 m = max(0.5 - vec3(dot(x0,x0), dot(x12.xy,x12.xy), dot(x12.zw,x12.zw)), 0.0);\n m = m*m ;\n m = m*m ;\n\n// Gradients: 41 points uniformly over a line, mapped onto a diamond.\n// The ring size 17*17 = 289 is close to a multiple of 41 (41*7 = 287)\n\n vec3 x = 2.0 * fract(p * C.www) - 1.0;\n vec3 h = abs(x) - 0.5;\n vec3 ox = floor(x + 0.5);\n vec3 a0 = x - ox;\n\n// Normalise gradients implicitly by scaling m\n// Approximation of: m *= inversesqrt( a0*a0 + h*h );\n m *= 1.79284291400159 - 0.85373472095314 * ( a0*a0 + h*h );\n\n// Compute final noise value at P\n vec3 g;\n g.x = a0.x * x0.x + h.x * x0.y;\n g.yz = a0.yz * x12.xz + h.yz * x12.yw;\n return 130.0 * dot(m, g);\n}\n\nconst float HUE = 45.0;\n\nfloat random (vec2 st) {\n return fract(sin(dot(st.xy,\n vec2(12.9898,78.233)))*\n 43758.5453123);\n}\n\nvoid main () {\n vec3 pos = position;\n\n float t = time * .06;\n\n vHue = (-.5 + .5 * random(position.xy)) * HUE / 360.0;\n\n pos.x += 50.0 * snoise_1(vec4(position, t));\n pos.y = 200.0 * snoise_0(vec2(position.x, t*.25));\n pos.z = 100.0-600.0 * (1.0+snoise_0(vec2(position.z, t*.12)))/2.0;\n\n if(soar > 0.) {\n pos.x += 1. * snoise_1(vec4(position, t*16.0));\n pos.y += 2. * snoise_0(vec2(position.y, t*16.0));\n pos.z += 300. * soar * sin(position.y + t*16.0);\n }\n /* else {\n pos.y += 10. * sin(position.x + time*3.0);\n } */\n\n vPos = pos;\n\n vec4 mvPos = modelViewMatrix * vec4(pos, 1.0);\n gl_Position = projectionMatrix * mvPos;\n\n gl_PointSize = size * 256.0 / -mvPos.z;\n vSize = gl_PointSize;\n lightPos = vec3(-200.0, 100.0, 0.0);//vec3(200.0*sin(time*.1),200.0*cos(time*.11+.6),100.0-500.0*((cos(time*.11)+1.0)/2.0));\n // lightPos = vec3(-200.0, 100.0, 0.0);\n}\n"]),fragmentShader:y(["precision highp float;\n#define GLSLIFY 1\n\nuniform sampler2D map;\n\nuniform vec3 color;// = vec3(0.05, 0.18, 0.74);\nconst vec2 uv = vec2(.5);\nconst float R = 300.0;\nuniform float soar;\nuniform float globalAlpha;\n\nvarying vec3 vPos;\nvarying vec3 lightPos;\nvarying float vSize;\nvarying float vHue;\n\nvec3 rgb2hsv(vec3 c) {\n vec4 K = vec4(0.0, -1.0 / 3.0, 2.0 / 3.0, -1.0);\n vec4 p = mix(vec4(c.bg, K.wz), vec4(c.gb, K.xy), step(c.b, c.g));\n vec4 q = mix(vec4(p.xyw, c.r), vec4(c.r, p.yzx), step(p.x, c.r));\n\n float d = q.x - min(q.w, q.y);\n float e = 1.0e-10;\n return vec3(abs(q.z + (q.w - q.y) / (6.0 * d + e)), d / (q.x + e), q.x);\n}\n\n// All components are in the range [0…1], including hue.\nvec3 hsv2rgb(vec3 c)\n{\n vec4 K = vec4(1.0, 2.0 / 3.0, 1.0 / 3.0, 3.0);\n vec3 p = abs(fract(c.xxx + K.xyz) * 6.0 - K.www);\n return c.z * mix(K.xxx, clamp(p - K.xxx, 0.0, 1.0), c.y);\n}\n\nvoid main() {\n vec2 uvStep = vec2(0., .5);\n float depth = 1.0-clamp(vSize/30.0,0.0,1.0);\n if (depth<.25) uvStep = vec2(.5,0.);\n else if (depth<.5) uvStep = vec2(0.);\n else if (depth<.75) uvStep = vec2(.5);\n vec4 col = texture2D(map, gl_PointCoord.xy*uv+uvStep);\n // col = texture2D(map, gl_PointCoord.xy);\n float d = distance(vPos+vec3(gl_PointCoord.xy*vSize,0.0), lightPos)/R;//clamp(distance(vPos+vec3(gl_PointCoord.xy*vSize,0.0), lightPos)/R, 0.0, 1.0);\n vec3 hsv = rgb2hsv(color);\n hsv.r += vHue;\n vec3 l = mix(vec3(1.0), hsv2rgb(hsv), d);\n\n float alpha = 1.0 - .5 * soar;\n gl_FragColor = vec4(col.rgb * l,col.a * alpha * globalAlpha);\n // gl_FragColor = vec4(col.rgb,col.a);\n}"]),uniforms:{time:{value:0},size:{value:5},map:{value:new e.CanvasTexture(u)},soar:{value:0},globalAlpha:{value:null==i.showAmbient||!0===i.showAmbient?1:0},color:{value:new e.Color(.05,.18,.74)}},transparent:!0,depthTest:!1,depthWrite:!1,blending:e.AdditiveBlending})),r.envP.material.visible=null==i.showAmbient||!0===i.showAmbient,r.world.add(r.envP),r.sim.enabled){for(var v=new e.BufferGeometry,m=[],b=[],D=p.default.TEX_SIZE,w=0;w 0.9999) pos = vec3(-100000.0); // send to cuenca\n\n vAlpha = 1.0;\n float eIn = props.b == 0.0 ? E_IN : .06;\n\n if ( life < eIn ) vAlpha = life/eIn;\n else vAlpha = 1.0 - (life-eIn)/(1.0-eIn);\n\n vPos = pos;//tpos.a > 0.0 ? pos : vec3(-100000.0); // send to cuenca\n\n vec4 mvPos = modelViewMatrix * vec4(pos, 1.0);\n gl_Position = projectionMatrix * mvPos;\n\n gl_PointSize = vAlpha * size * 30.0 / -mvPos.z;\n vSize = gl_PointSize;\n lightPos = vec3(-200.0, 100.0, 0.0);//vec3(200.0*sin(time*.1),200.0*cos(time*.11+.6),100.0-500.0*((cos(time*.11)+1.0)/2.0));\n // lightPos = vec3(-200.0, 100.0, 0.0);\n}\n"]),fragmentShader:y(["precision highp float;\n#define GLSLIFY 1\n\nuniform sampler2D map;\n\nuniform vec3 color;// = vec3(0.05, 0.18, 0.74);\nconst vec2 uv = vec2(.5);\nconst float R = 210.0;\n\nvarying vec3 vPos;\nvarying vec3 lightPos;\nvarying float vSize;\nvarying float vHue;\nvarying float vAlpha;\n\nuniform float globalAlpha;\n\nvec3 rgb2hsv(vec3 c) {\n vec4 K = vec4(0.0, -1.0 / 3.0, 2.0 / 3.0, -1.0);\n vec4 p = mix(vec4(c.bg, K.wz), vec4(c.gb, K.xy), step(c.b, c.g));\n vec4 q = mix(vec4(p.xyw, c.r), vec4(c.r, p.yzx), step(p.x, c.r));\n\n float d = q.x - min(q.w, q.y);\n float e = 1.0e-10;\n return vec3(abs(q.z + (q.w - q.y) / (6.0 * d + e)), d / (q.x + e), q.x);\n}\n\n// All components are in the range [0…1], including hue.\nvec3 hsv2rgb(vec3 c)\n{\n vec4 K = vec4(1.0, 2.0 / 3.0, 1.0 / 3.0, 3.0);\n vec3 p = abs(fract(c.xxx + K.xyz) * 6.0 - K.www);\n return c.z * mix(K.xxx, clamp(p - K.xxx, 0.0, 1.0), c.y);\n}\n\nvoid main() {\n vec2 uvStep = vec2(0., .5);\n float depth = 1.0-clamp(vSize/30.0,0.0,1.0);\n if (depth<.25) uvStep = vec2(.5,0.);\n else if (depth<.5) uvStep = vec2(0.);\n else if (depth<.75) uvStep = vec2(.5);\n vec4 col = texture2D(map, gl_PointCoord.xy*uv+uvStep);\n // col = texture2D(map, gl_PointCoord.xy);\n float d = distance(vPos+vec3(gl_PointCoord.xy*vSize,0.0), lightPos)/R;//clamp(distance(vPos+vec3(gl_PointCoord.xy*vSize,0.0), lightPos)/R, 0.0, 1.0);\n vec3 hsv = rgb2hsv(color);\n hsv.r += vHue;\n vec3 l = mix(vec3(1.0), hsv2rgb(hsv), d);\n gl_FragColor = vec4(col.rgb * l,col.a*globalAlpha*vAlpha);\n // gl_FragColor = vec4(col.rgb,col.a);\n}"]),transparent:!0,blending:e.AdditiveBlending,depthTest:!1,depthWrite:!1,uniforms:{size:{value:5},time:{value:0},map:{value:r.envP.material.uniforms.map.value},settings:{value:r.sim.settings.texture},texPos:{value:null},globalAlpha:{value:i.showBird?1:0},color:{value:new e.Color(.05,.18,.74)}},defines:{P_LIFE:p.default.PARTICLE_LIFE}});r.particles=new e.Points(v,E),E.visible=!!i.showBird,r.particles.frustumCulled=!1,r.world.add(r.particles)}}(),r.birdMat.color.copy(r.envP.material.uniforms.color.value),r.bird=t.scene,r.bird.position.z=r.intersectionPlane.position.z=-20}(),null!=v&&v())));i.manualUpdate||(requestAnimationFrame(t),r.update(),r.render())}()}else this.needsFallback=!0}var n,r;return n=t,(r=[{key:"setParticleScale",value:function(e){this.loaded&&(this.vfxRenderer.particleScale=e)}},{key:"goToView",value:function(e){if(this.loaded){var t=b[e].position,n=b[e].rotation;i.a.to(this.bird.position,{duration:1.5,x:t.x,ease:"power2.inOut"}),i.a.to(this.bird.rotation,{duration:1.5,y:n.y,ease:"power2.inOut"})}}},{key:"setColor",value:function(e){this.loaded&&(this.envP.material.uniforms.color.value.setStyle(e),this.sim.enabled&&this.particles.material.uniforms.color.value.setStyle(e),this.birdMat.color.copy(this.envP.material.uniforms.color.value))}},{key:"switchAmbient",value:function(e){var t=this;this.loaded&&(this.envP.material.visible=!0,this.envTween&&this.envTween.kill(),this.envTween=i.a.to(this.envP.material.uniforms.globalAlpha,{duration:1,value:e?1:0,onComplete:function(){e||(t.envP.material.visible=!1)}}))}},{key:"switchBird",value:function(e){var t=this;this.loaded&&(this.birdState=e,this.birdMat.visible=!0,this.sim.enabled&&(this.particles.material.visible=!0),this.birdTween&&this.birdTween.kill(),this.birdTween=i.a.to(this.birdMat,{duration:1,opacity:e?.06:0,onComplete:function(){e||(t.birdMat.visible=!1,t.sim.enabled&&(t.particles.material.visible=!1))}}),this.sim.enabled&&i.a.to(this.particles.material.uniforms.globalAlpha,{duration:1,value:e?1:0}))}},{key:"getBirdState",value:function(){return this.birdState}},{key:"swicthAll",value:function(e){this.switchBird(e),this.switchAmbient(e)}},{key:"soarMode",value:function(){this.loaded&&1!=this.mode&&(this.mode=1,i.a.to(this.flapAction,{duration:1,weight:0}),i.a.to(this.soarAction,{duration:1,weight:1}),i.a.to(this.envP.material.uniforms.soar,1,{value:1}),this.soarAction.play())}},{key:"flapMode",value:function(){this.loaded&&0!=this.mode&&(this.mode=0,i.a.to(this.flapAction,{duration:1,weight:1}),i.a.to(this.soarAction,{duration:1,weight:0}),i.a.to(this.envP.material.uniforms.soar,1,{value:0}))}},{key:"resize",value:function(){o.a.bounds.ww=window.innerWidth,o.a.bounds.wh=window.innerHeight,this.vfxRenderer.setSize(o.a.bounds.ww,o.a.bounds.wh),this.renderer.setSize(o.a.bounds.ww,o.a.bounds.wh),this.camera.aspect=o.a.bounds.ww/o.a.bounds.wh,this.camera.updateProjectionMatrix()}},{key:"update",value:function(){if(this.loaded){var t=this.clock.getDelta(),n=this.clock.elapsedTime;this.time=n,this.envP.material.uniforms.time.value=n,this.sim.enabled&&(this.particles.material.uniforms.time.value=n+100),this.mixer.update(t);for(var r=Math.PI/2,i=new e.Vector3(0,1,0),o=0,a=this.emitters.length;of&&(this.nParticles=0)}return e.setRenderTarget(null),e.autoClear=!0,a}}},{key:"destroy",value:function(){this.enabled&&(this.direction.destroy(),this.position.destroy(),this.settings.destroy(),this.position2.destroy())}}])&&u(n.prototype,r),s&&u(n,s),t}();r.default=p},{"../../sys/Random":18,"../../sys/Utils":19,"./Fbo":4,"./utils/GLInfo":9,glslify:1}],6:[function(t,n,r){function i(e,t){for(var n=0;nthresh)\n {\n gl_FragColor +=sum*scale;\n }\n\n gl_FragColor.a = alpha;\n}"]),uniforms:{resolution:{value:new e.Vector2},tDiffuse:{value:null},thresh:{value:0},scale:{value:2.65},alpha:{value:.08}},transparent:!0,blending:e.AdditiveBlending}),this.stack.push(new e.RawShaderMaterial({vertexShader:c(["precision lowp float;\n#define GLSLIFY 1\n\nattribute vec3 position;\nattribute vec2 uv;\n\nuniform mat4 projectionMatrix;\nuniform mat4 modelViewMatrix;\nuniform mat4 viewMatrix;\nuniform mat4 modelMatrix;\n\nuniform float time;\n\nvarying vec2 vUv;\n\nvoid main () {\n vec3 pos = position;\n\n vUv = uv;\n \n vec4 mvPos = modelViewMatrix * vec4(pos, 1.0);\n gl_Position = projectionMatrix * mvPos;\n}\n"]),fragmentShader:c(["precision lowp float;\n#define GLSLIFY 1\n\nuniform sampler2D tBase;\nuniform sampler2D tDiffuse;\n\nvarying vec2 vUv;\n\nvoid main() {\n gl_FragColor = texture2D(tBase, vUv) + texture2D(tDiffuse, vUv);\n}"]),uniforms:{tBase:{value:null},tDiffuse:{value:null}}})),this.stack.push(new e.RawShaderMaterial({vertexShader:c(["precision highp float;\n#define GLSLIFY 1\n\nattribute vec3 position;\nattribute vec2 uv;\n\nuniform mat4 projectionMatrix;\nuniform mat4 modelViewMatrix;\nuniform mat4 viewMatrix;\nuniform mat4 modelMatrix;\n\nuniform float time;\n\nvarying vec2 vUv;\n\nvoid main () {\n vec3 pos = position;\n\n vUv = uv;\n \n vec4 mvPos = modelViewMatrix * vec4(pos, 1.0);\n gl_Position = projectionMatrix * mvPos;\n}\n"]),fragmentShader:c(["precision highp float;\n#define GLSLIFY 1\n\nuniform sampler2D tDiffuse;\nvarying vec2 vUv;\n\nuniform float time;\n\nconst float falloff = .49;\nconst float amount = .65;\n\nhighp float basicDithering (in vec2 st, float intensity) {\n return mix(-intensity/ 255., intensity/255., fract(sin(dot(st.xy, vec2(12.9898,78.233)))* 43758.5453123));\n}\n\nvoid main () {\n // dithering grain\n float dither = basicDithering(vUv+vec2(sin(time),cos(time)), 12.0);\n vec3 color = texture2D(tDiffuse, vUv).rgb + dither;\n\n // vignetting\n float dist = distance(vUv, vec2(0.5, 0.5));\n color.rgb *= smoothstep(0.8, falloff * 0.799, dist * (amount + falloff));\n\n gl_FragColor = vec4(color,1.0);\n}"]),uniforms:{time:{value:0},tDiffuse:{value:null}}})))}var n,r;return n=t,(r=[{key:"setSize",value:function(e,t){if(this.glInfo.crapGPU)if(2073600=2.0 are supported. Use LegacyGLTFLoader instead."));else{if(m.extensionsUsed)for(var y=0;y",s).replace("#include ",u).replace("#include ",l).replace("#include ",c).replace("#include ",f);delete a.roughness,delete a.metalness,delete a.roughnessMap,delete a.metalnessMap,a.specular={value:(new e.Color).setHex(1118481)},a.glossiness={value:.5},a.specularMap={value:null},a.glossinessMap={value:null},t.vertexShader=o.vertexShader,t.fragmentShader=h,t.uniforms=a,t.defines={STANDARD:""},t.color=new e.Color(1,1,1),t.opacity=1;var p=[];if(Array.isArray(i.diffuseFactor)){var d=i.diffuseFactor;t.color.fromArray(d),t.opacity=d[3]}if(void 0!==i.diffuseTexture&&p.push(r.assignTexture(t,"map",i.diffuseTexture)),t.emissive=new e.Color(0,0,0),t.glossiness=void 0!==i.glossinessFactor?i.glossinessFactor:1,t.specular=new e.Color(1,1,1),Array.isArray(i.specularFactor)&&t.specular.fromArray(i.specularFactor),void 0!==i.specularGlossinessTexture){var v=i.specularGlossinessTexture;p.push(r.assignTexture(t,"glossinessMap",v)),p.push(r.assignTexture(t,"specularMap",v))}return Promise.all(p)},createMaterial:function(t){var n=new e.ShaderMaterial({defines:t.defines,vertexShader:t.vertexShader,fragmentShader:t.fragmentShader,uniforms:t.uniforms,fog:!0,lights:!0,opacity:t.opacity,transparent:t.transparent});return n.isGLTFSpecularGlossinessMaterial=!0,n.color=t.color,n.map=void 0===t.map?null:t.map,n.lightMap=null,n.lightMapIntensity=1,n.aoMap=void 0===t.aoMap?null:t.aoMap,n.aoMapIntensity=1,n.emissive=t.emissive,n.emissiveIntensity=1,n.emissiveMap=void 0===t.emissiveMap?null:t.emissiveMap,n.bumpMap=void 0===t.bumpMap?null:t.bumpMap,n.bumpScale=1,n.normalMap=void 0===t.normalMap?null:t.normalMap,t.normalScale&&(n.normalScale=t.normalScale),n.displacementMap=null,n.displacementScale=1,n.displacementBias=0,n.specularMap=void 0===t.specularMap?null:t.specularMap,n.specular=t.specular,n.glossinessMap=void 0===t.glossinessMap?null:t.glossinessMap,n.glossiness=t.glossiness,n.alphaMap=null,n.envMap=void 0===t.envMap?null:t.envMap,n.envMapIntensity=1,n.refractionRatio=.98,n.extensions.derivatives=!0,n},cloneMaterial:function(e){var t=e.clone();t.isGLTFSpecularGlossinessMaterial=!0;for(var n=this.specularGlossinessParams,r=0,i=n.length;rd||8*(1-s.dot(u.object.quaternion))>d)||(u.dispatchEvent(l),a.copy(u.object.position),s.copy(u.object.quaternion),b=!1))}),this.dispose=function(){u.domElement.removeEventListener("contextmenu",ne,!1),u.domElement.removeEventListener("mousedown",K,!1),u.domElement.removeEventListener("wheel",J,!1),u.domElement.removeEventListener("touchstart",$,!1),u.domElement.removeEventListener("touchend",te,!1),u.domElement.removeEventListener("touchmove",ee,!1),document.removeEventListener("mousemove",W,!1),document.removeEventListener("mouseup",Z,!1),u.domElement.removeEventListener("keydown",Q,!1)};var u=this,l={type:"change"},c={type:"start"},f={type:"end"},h={NONE:-1,ROTATE:0,DOLLY:1,PAN:2,TOUCH_ROTATE:3,TOUCH_PAN:4,TOUCH_DOLLY_PAN:5,TOUCH_DOLLY_ROTATE:6},p=h.NONE,d=1e-6,v=new e.Spherical,m=new e.Spherical,y=1,g=new e.Vector3,b=!1,D=new e.Vector2,w=new e.Vector2,x=new e.Vector2,E=new e.Vector2,O=new e.Vector2,S=new e.Vector2,C=new e.Vector2,P=new e.Vector2,F=new e.Vector2;function T(){return Math.pow(.95,u.zoomSpeed)}function _(e){m.theta-=e}function j(e){m.phi-=e}var k,A,R,M=(k=new e.Vector3,function(e,t){k.setFromMatrixColumn(t,0),k.multiplyScalar(-e),g.add(k)}),L=(A=new e.Vector3,function(e,t){!0===u.screenSpacePanning?A.setFromMatrixColumn(t,1):(A.setFromMatrixColumn(t,0),A.crossVectors(u.object.up,A)),A.multiplyScalar(e),g.add(A)}),B=(R=new e.Vector3,function(e,t){var n=u.domElement;if(u.object.isPerspectiveCamera){var r=u.object.position;R.copy(r).sub(u.target);var i=R.length();i*=Math.tan(u.object.fov/2*Math.PI/180),M(2*e*i/n.clientHeight,u.object.matrix),L(2*t*i/n.clientHeight,u.object.matrix)}else u.object.isOrthographicCamera?(M(e*(u.object.right-u.object.left)/u.object.zoom/n.clientWidth,u.object.matrix),L(t*(u.object.top-u.object.bottom)/u.object.zoom/n.clientHeight,u.object.matrix)):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - pan disabled."),u.enablePan=!1)});function I(e){u.object.isPerspectiveCamera?y/=e:u.object.isOrthographicCamera?(u.object.zoom=Math.max(u.minZoom,Math.min(u.maxZoom,u.object.zoom*e)),u.object.updateProjectionMatrix(),b=!0):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled."),u.enableZoom=!1)}function z(e){u.object.isPerspectiveCamera?y*=e:u.object.isOrthographicCamera?(u.object.zoom=Math.max(u.minZoom,Math.min(u.maxZoom,u.object.zoom/e)),u.object.updateProjectionMatrix(),b=!0):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled."),u.enableZoom=!1)}function U(e){D.set(e.clientX,e.clientY)}function G(e){E.set(e.clientX,e.clientY)}function N(e){if(1==e.touches.length)D.set(e.touches[0].pageX,e.touches[0].pageY);else{var t=.5*(e.touches[0].pageX+e.touches[1].pageX),n=.5*(e.touches[0].pageY+e.touches[1].pageY);D.set(t,n)}}function V(e){if(1==e.touches.length)E.set(e.touches[0].pageX,e.touches[0].pageY);else{var t=.5*(e.touches[0].pageX+e.touches[1].pageX),n=.5*(e.touches[0].pageY+e.touches[1].pageY);E.set(t,n)}}function H(e){var t=e.touches[0].pageX-e.touches[1].pageX,n=e.touches[0].pageY-e.touches[1].pageY,r=Math.sqrt(t*t+n*n);C.set(0,r)}function X(e){if(1==e.touches.length)w.set(e.touches[0].pageX,e.touches[0].pageY);else{var t=.5*(e.touches[0].pageX+e.touches[1].pageX),n=.5*(e.touches[0].pageY+e.touches[1].pageY);w.set(t,n)}x.subVectors(w,D).multiplyScalar(u.rotateSpeed);var r=u.domElement;_(2*Math.PI*x.x/r.clientHeight),j(2*Math.PI*x.y/r.clientHeight),D.copy(w)}function Y(e){if(1==e.touches.length)O.set(e.touches[0].pageX,e.touches[0].pageY);else{var t=.5*(e.touches[0].pageX+e.touches[1].pageX),n=.5*(e.touches[0].pageY+e.touches[1].pageY);O.set(t,n)}S.subVectors(O,E).multiplyScalar(u.panSpeed),B(S.x,S.y),E.copy(O)}function q(e){var t=e.touches[0].pageX-e.touches[1].pageX,n=e.touches[0].pageY-e.touches[1].pageY,r=Math.sqrt(t*t+n*n);P.set(0,r),F.set(0,Math.pow(P.y/C.y,u.zoomSpeed)),I(F.y),C.copy(P)}function K(t){if(!1!==u.enabled){switch(t.preventDefault(),u.domElement.focus?u.domElement.focus():window.focus(),t.button){case 0:switch(u.mouseButtons.LEFT){case e.MOUSE.ROTATE:if(t.ctrlKey||t.metaKey||t.shiftKey){if(!1===u.enablePan)return;G(t),p=h.PAN}else{if(!1===u.enableRotate)return;U(t),p=h.ROTATE}break;case e.MOUSE.PAN:if(t.ctrlKey||t.metaKey||t.shiftKey){if(!1===u.enableRotate)return;U(t),p=h.ROTATE}else{if(!1===u.enablePan)return;G(t),p=h.PAN}break;default:p=h.NONE}break;case 1:switch(u.mouseButtons.MIDDLE){case e.MOUSE.DOLLY:if(!1===u.enableZoom)return;n=t,C.set(n.clientX,n.clientY),p=h.DOLLY;break;default:p=h.NONE}break;case 2:switch(u.mouseButtons.RIGHT){case e.MOUSE.ROTATE:if(!1===u.enableRotate)return;U(t),p=h.ROTATE;break;case e.MOUSE.PAN:if(!1===u.enablePan)return;G(t),p=h.PAN;break;default:p=h.NONE}}var n;p!==h.NONE&&(document.addEventListener("mousemove",W,!1),document.addEventListener("mouseup",Z,!1),u.dispatchEvent(c))}}function W(e){var t,n;if(!1!==u.enabled)switch(e.preventDefault(),p){case h.ROTATE:if(!1===u.enableRotate)return;!function(e){w.set(e.clientX,e.clientY),x.subVectors(w,D).multiplyScalar(u.rotateSpeed);var t=u.domElement;_(2*Math.PI*x.x/t.clientHeight),j(2*Math.PI*x.y/t.clientHeight),D.copy(w),u.update()}(e);break;case h.DOLLY:if(!1===u.enableZoom)return;n=e,P.set(n.clientX,n.clientY),F.subVectors(P,C),0this.views.length)){var r=this.views[n];i.a.to(this.pos,{duration:2,x:r.pos.x,y:r.pos.y,z:r.pos.z,ease:"power2.out"}),i.a.to(this.quat,{duration:2,x:r.quat.x,y:r.quat.y,z:r.quat.z,w:r.quat.w,ease:"power2.out"}),this.currentView=n}}},{key:"update",value:function(e){this.cam.position.copy(this.pos),this.cam.quaternion.copy(this.quat),this.mouse.x=e.x,this.mouse.y=e.y,this.mouse.multiplyScalar(this.mouseAmount)}},{key:"rotateContainerOnMouse",value:function(e){var t=-this.mouse.y*s*this.mouseAmp,n=this.mouse.x*a*this.mouseAmp;e.rotation.x+=.016*(t-e.rotation.x),e.rotation.y+=.016*(n-e.rotation.y)}}])&&o(n.prototype,r),t}();r.default=u},{}]},{},[15])}).call(this,n("i8eK"),n("fRV1"))},JG10:function(e,t,n){"use strict";var r=n("O2cr"),i=n("Rvax"),o=n("6wCR"),a=n.n(o),s=n("WrwZ");t.a=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:r.a.timeline({paused:!0}),t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:s.a.dom.body,n=Object(i.h)(".js-t-chars",t),o=Object(i.h)(".js-t-lines",t),u=Object(i.h)(".js-t-up",t),l=Object(i.h)(".js-t-words",t);if(n.length>0)for(var c=0;c0)for(var h=0;h0)for(var d=0;d0&&e.fromTo(u,{y:"3rem",alpha:0},{y:0,alpha:1,stagger:.1,duration:2.5,ease:"expo"},.65),e}},"O0I/":function(e,t,n){"use strict";var r=n("O2cr"),i=n("Rvax"),o=n("WrwZ");function a(e,t){for(var n=0;n1&&void 0!==arguments[1]?arguments[1]:document;return t.querySelector(e)},o=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:document;return t.querySelectorAll(e)};function a(e,t,n,r,i){var o=!0===i?{passive:!0}:{passive:!1};return e[("a"===t?"add":"remove")+"EventListener"](n,r,o)}var s=n("JG10"),u=n("O2cr");function l(e,t){for(var n=0;n0&&void 0!==arguments[0]?arguments[0]:document.body,t=v(o("img",e)).map((function(e){return e.src}));return Promise.all(t.map(y))}var y=function(e){return new Promise((function(t){var n=new Image;n.onload=function(){return t({path:e,status:"ok"})},n.onerror=function(){return t({path:e,status:"error"})},n.src=e}))};n.d(t,"d",(function(){return h})),n.d(t,"e",(function(){return a})),n.d(t,"b",(function(){return p})),n.d(t,"g",(function(){return i})),n.d(t,"h",(function(){return o})),n.d(t,"f",(function(){return m})),n.d(t,"c",(function(){return y})),n.d(t,"a",(function(){return f}))},ScBi:function(e,t,n){"use strict";var r=n("TOxT"),i=new(n.n(r).a),o=n("baPW"),a=n.n(o),s=n("WrwZ");function u(e,t){for(var n=0;nt.wh?n-t.wh:0}},{key:"onEvent",value:function(e){s.a.flags.locked||"projects"===s.a.page.current&&s.a.isDesktop||(l.run(),i.emit("scroll",{y:-1*e.deltaY}))}},{key:"on",value:function(){this.vs=new a.a({mouseMultiplier:s.a.flags.windows?1.1:.45,touchMultiplier:3,firefoxMultiplier:s.a.flags.windows?40:90,passive:!0}),this.vs.on(this.onEvent)}},{key:"init",value:function(){this.on()}}])&&f(t.prototype,n),r&&f(t,r),e}()),p=n("O2cr");function d(e,t){for(var n=0;n0&&(e.scrolled=!0),i.emit("tick",{target:t.target,current:t.currentRounded,mouse:t.mouse})})),v(this,"onScroll",(function(e){var n=e.y;s.a.flags.locked||"projects"===s.a.page.current&&s.a.isDesktop||(t.target+=n,t.clampTarget())})),v(this,"onMove",(function(e){var n=e.y,r=e.x,i=e.glY,o=e.glX,a=e.target;t.mouse.x=r,t.mouse.y=n,t.mouse.glY=i,t.mouse.glX=o,t.mouse.target=a})),this.target=0,this.current=0,this.currentRounded=0,this.mouse={x:0,y:0,target:null,glX:0,glY:0},this.ease=.115,this.init()}var t,n,r;return t=e,(n=[{key:"clampTarget",value:function(){this.target=Math.min(Math.max(this.target,0),s.a.bounds.scroll)}},{key:"reset",value:function(){this.target=this.current=this.currentRounded=0}},{key:"resize",value:function(){this.current=this.currentRounded=this.target}},{key:"on",value:function(){p.a.ticker.fps(-1),p.a.ticker.add(this.tick),i.on("scroll",this.onScroll),i.on("mousemove",this.onMove)}},{key:"init",value:function(){this.on()}}])&&d(t.prototype,n),r&&d(t,r),e}()),y=n("E/ZA"),g=n.n(y);function b(e,t){for(var n=0;n10;i.emit("mouseup",{x:r,glX:o,target:a,isClick:u})})),E(this,"onClick",(function(e){i.emit("click",e)})),this.state={on:0,off:0,coords:{x:0,y:0}},this.events={move:s.a.isDevice?"touchmove":"mousemove",down:s.a.isDevice?"touchstart":"mousedown",up:s.a.isDevice?"touchend":"mouseup"},this.on()}var t,n,r;return t=e,(n=[{key:"on",value:function(){var e=this.events,t=e.move,n=e.down,r=e.up;Object(c.e)(window,"a",t,this.onMove),Object(c.e)(window,"a",n,this.onDown),Object(c.e)(window,"a",r,this.onUp),Object(c.e)(window,"a","click",this.onClick)}},{key:"getPos",value:function(e){var t=e.changedTouches?e.changedTouches[0].clientX:e.clientX,n=e.changedTouches?e.changedTouches[0].clientY:e.clientY,r=1-2*n/s.a.bounds.wh;return{x:t,y:n,glX:2*t/s.a.bounds.ww-1,glY:r,target:e.target}}}])&&x(t.prototype,n),r&&x(t,r),e}());n.d(t,"a",(function(){return i})),n.d(t,"d",(function(){return h})),n.d(t,"b",(function(){return m})),n.d(t,"c",(function(){return D}))},Sm8t:function(e,t,n){},WrwZ:function(e,t,n){"use strict";var r=n("YH1O"),i=n.n(r),o={dom:{doc:document.documentElement,body:document.body,scroll:document.querySelector("[data-smooth]")},bounds:{ww:window.innerWidth,wh:window.innerHeight,scroll:0},flags:{home:!1,locked:!1,dropdown:!1,resize:!1,windows:-1!==["Win32","Win64","Windows","WinCE"].indexOf(window.navigator.platform)},page:{current:null,last:null},color:{default:!0,pink:"#f1bda5",blue:"#0053ff"}};Object.assign(o,i.a.getInfos()),o.flags.smooth=o.isDesktop,t.a=o},XaR8:function(e,t,n){"use strict";var r=n("O2cr"),i=n("WrwZ"),o=n("ScBi"),a=n("Rvax"),s=n("t36m"),u=n("cuco");n("AQNj");function l(e){return(l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function c(e,t){for(var n=0;n0&&void 0!==arguments[0]?arguments[0]:{};this.args=e,this.el=this.args.el,this.name=this.args.name,this.pid=this.el.closest("[data-pid]")&&this.el.closest("[data-pid]").dataset.pid,this.locked=void 0!==this.el.dataset.lock,this.fade=void 0!==this.el.dataset.fade,this.loader=new o.TextureLoader,this.loader.crossOrigin="",this.resize()}},{key:"resize",value:function(){var e=this.el.getBoundingClientRect();this.bounds={left:e.left,top:e.top+(this.el.closest("[data-smooth-item]")?u.b.currentRounded:0),width:e.width,height:e.height},this.updateSize(),this.updatePosition()}},{key:"calculateUnitSize",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.position.z,t=s.a.camera.fov*Math.PI/180,n=2*Math.tan(t/2)*e,r=n*s.a.camera.aspect;return{width:r,height:n}}},{key:"updateSize",value:function(){this.camUnit=this.calculateUnitSize(s.a.camera.position.z-this.position.z);var e=a.a.bounds,t=e.ww,n=e.wh,r=this.bounds.width/t,i=this.bounds.height/n;r&&i&&(this.scale.x=this.camUnit.width*r,this.scale.y=this.camUnit.height*i)}},{key:"updateY",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=a.a.bounds.wh,n=this.bounds,r=n.top,i=n.height;this.position.y=this.camUnit.height/2-this.scale.y/2,this.mouse?this.position.y-=(e-i/2)/t*this.camUnit.height:this.position.y-=(r-e)/t*this.camUnit.height}},{key:"updateX",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=a.a.bounds.ww,n=this.bounds,r=n.left,i=n.width;this.position.x=-this.camUnit.width/2+this.scale.x/2,this.mouse?this.position.x+=(e-i/2)/t*this.camUnit.width:this.position.x+=(r+e)/t*this.camUnit.width}},{key:"updatePosition",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;this.updateY(e),this.updateX(t)}},{key:"destroy",value:function(){this.parent&&this.parent.remove(this),this.visible=!1}}])&&c(n.prototype,r),i&&c(n,i),t}(o.Object3D),v="\nprecision highp float;\n\nvarying vec2 vUv;\n\nvoid main(){\n vec3 pos = position;\n\n vUv = uv;\n gl_Position = projectionMatrix * modelViewMatrix * vec4(pos,1.);\n}\n",m="\nprecision highp float;\n\nuniform sampler2D uTexture;\n\nuniform float uAlpha;\n\nvarying vec2 vUv;\n\nvoid main() {\n vec2 uv = vUv;\n\n vec4 texture = texture2D(uTexture, uv);\n \n gl_FragColor = texture * uAlpha;\n}\n",y="\nprecision highp float;\n\nvarying vec2 vUv;\nuniform float uProgress2;\nuniform float uTime;\n\nvoid main(){\n vec3 pos = position;\n\n float speed = 10.0;\n float frequency = 7.5;\n float amplitude = 1.;\n\n vec3 newPos = position.xyz;\n newPos.z += sin(newPos.x * frequency + uTime * speed) * amplitude * uProgress2;\n\n vUv = uv;\n gl_Position = projectionMatrix * modelViewMatrix * vec4(newPos,1.);\n}\n",g="\nprecision highp float;\n\n".concat("\nvec2 backgroundCoverUv( vec2 screenSize, vec2 imageSize, vec2 uv ) {\n float screenRatio = screenSize.x / screenSize.y;\n float imageRatio = imageSize.x / imageSize.y;\n vec2 newSize = screenRatio < imageRatio \n ? vec2(imageSize.x * (screenSize.y / imageSize.y), screenSize.y)\n : vec2(screenSize.x, imageSize.y * (screenSize.x / imageSize.x));\n vec2 newOffset = (screenRatio < imageRatio \n ? vec2((newSize.x - screenSize.x) / 2.0, 0.0) \n : vec2(0.0, (newSize.y - screenSize.y) / 2.0)) / newSize;\n return uv * screenSize / newSize + newOffset;\n}\n","\n\nuniform sampler2D uTexture;\nuniform sampler2D uTexture2;\n\nuniform float uVelo;\nuniform float uAlpha;\nuniform float uProgress;\n\nuniform vec2 uMeshSize;\nuniform vec2 uImageSize;\n\nvarying vec2 vUv;\n\nfloat amplitude = 50.;\nfloat speed = 20.;\n\nvoid main() {\n vec2 uv = vUv;\n\n vec2 cUv = backgroundCoverUv(uMeshSize, uImageSize, uv);\n\n float x = uProgress;\n x=smoothstep(.0,1.0,(x*2.0+cUv.x-1.0));\n\n vec4 texture = texture2D(uTexture, cUv-.5 *(1.-x)+.5);\n vec4 texture2 = texture2D(uTexture2, cUv-.5*x+.5);\n vec4 color = mix(texture, texture2, clamp(0., 1., x));\n\n gl_FragColor = color * uAlpha;\n}\n"),b=n("Rvax");function D(e){return(D="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function w(e,t){for(var n=0;n0&&void 0!==arguments[0]?arguments[0]:null;if(!a.a.isDevice)for(var t in this.planes)this.planes[t].resize(e)}},{key:"removePlanes",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!a.a.isDevice)for(var n in this.planes)this.remove(this.planes[n],e,t)}},{key:"remove",value:function(e,t,n){a.a.isDevice||t===e.pid&&(n&&e.material?i.a.to(e.material.uniforms.uAlpha,{value:0,duration:.5,ease:"power1",onComplete:function(){e.destroy()}}):e.destroy())}}])&&Se(t.prototype,n),s&&Se(t,s),e}(),Pe=t.a=new Ce},t36m:function(e,t,n){"use strict";var r=n("ScBi");function i(e,t){for(var n=0;n-this.threshold;return{isVisible:h,transform:c}}},{key:"updateSection",value:function(e,t){e.transform=t,e.el.style.transform="translate3d(0, ".concat(-t,"px, 0)"),e.rotate&&(e.rotate.style.transform="rotate(".concat(.5*t,"deg)"))}},{key:"getVars",value:function(e,t){var n=a.a.bounds.wh,r=e.getBoundingClientRect(),i=n/2-r.height/2,o=r.top0;return{isVisible:o,start:r,end:i}}},{key:"getStickies",value:function(){var e=this;this.stickies=[],document.querySelectorAll("[data-stick]").forEach((function(t){var n=t.closest("[data-stick-parent]").getBoundingClientRect(),r=n.top,i=n.bottom,o=n.height,a=f.a.timeline({paused:!0,defaults:{ease:"linear",duration:1}}).fromTo(".js-values-slide",{yPercent:0},{yPercent:-100,stagger:1}).fromTo(".js-values-img",{yPercent:0},{yPercent:100,stagger:1},0);e.stickies.push({el:t,top:r,bottom:i,height:o,tl:a})}))}},{key:"addEvents",value:function(){r.a.on("tick",this.run),r.a.on("resize",this.onResize)}},{key:"removeEvents",value:function(){r.a.off("tick",this.run),r.a.off("resize",this.onResize)}},{key:"destroy",value:function(){this.removeEvents(),this.stickies=null,this.elems=null,this.state=null}},{key:"init",value:function(){this.getStickies(),this.addEvents()}}])&&h(t.prototype,n),i&&h(t,i),e}();function v(e,t){for(var n=0;n1&&void 0!==arguments[1]?arguments[1]:{};!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),i=function(){o.setBounds(),o.childResize()},(r="resize")in(n=this)?Object.defineProperty(n,r,{value:i,enumerable:!0,configurable:!0,writable:!0}):n[r]=i,Object(s.b)(this,"run","onDown","onMove","onUp"),this.el=t,this.opts=Object.assign({speed:1.5,touchMultiplier:a.a.isDevice?2:1,threshold:50,ease:.09},u),this.ui={area:this.el.closest(".js-draggable-area"),items:Object(s.h)(".js-draggable-item",this.el)},this.state={target:0,current:{a:0,aRounded:0},ease:{a:this.opts.ease},y:0,on:{x:0,y:0},off:0,progress:0,max:0,min:0,snap:{points:null},flags:{dragging:!1}},this.items=null,this.init()}var t,n,i;return t=e,(n=[{key:"init",value:function(){return f.a.utils.pipe(this.setup(),this.on())}},{key:"destroy",value:function(){this.off(),this.state=null,this.items=null,this.opts=null,this.ui=null}},{key:"on",value:function(){r.a.on("mousedown",this.onDown),r.a.on("mousemove",this.onMove),r.a.on("mouseup",this.onUp),r.a.on("tick",this.run),r.a.on("resize",this.resize)}},{key:"off",value:function(){r.a.off("mousedown",this.onDown),r.a.off("mousemove",this.onMove),r.a.off("mouseup",this.onUp),r.a.off("tick",this.run),r.a.off("resize",this.resize)}},{key:"setup",value:function(){this.setBounds(),this.ui.area.style.touchAction="pan-y"}},{key:"setBounds",value:function(){var e=this.state,t=this.ui.items,n=this.el.getBoundingClientRect(),r=n.width,i=n.left;e.snap.points=null,e.snap.points=[],this.items=null,this.items=[];for(var o=0;o-s;return{isVisible:u,progress:f.a.utils.clamp(0,1,1-(t+n+i)/(o+i))}}},{key:"clampTarget",value:function(){var e=this.state;e.target=f.a.utils.clamp(e.max,0,e.target)}},{key:"onDown",value:function(e){var t=e.x,n=e.y,r=e.target;if(this.ui.area.contains(r)){var i=this.state,o=i.flags,a=i.on;o.dragging=!0,this.el.style.pointerEvents="none",a.x=t,a.y=n}}},{key:"onUp",value:function(){var e=this.state;e.flags.dragging=!1,this.el.style.pointerEvents="auto",this.opts.snap&&this.snap(),e.off=e.target}},{key:"snap",value:function(){this.opts.snap&&(this.state.target=f.a.utils.snap(this.state.snap.points,this.state.target))}},{key:"onMove",value:function(e){var t=e.x,n=e.y,r=e.e,i=this.state;if(i.flags.dragging){var o=i.off,a=i.on,s=t-a.x,u=n-a.y;Math.abs(s)>Math.abs(u)&&r.cancelable&&(r.preventDefault(),r.stopPropagation()),i.target=o+s*(this.opts.speed*this.opts.touchMultiplier),this.clampTarget()}}},{key:"childResize",value:function(){}}])&&D(t.prototype,n),i&&D(t,i),e}();function x(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t0?i[t.openBrandIndex].classList.add("has-count"):i[t.openBrandIndex].classList.remove("has-count"),i[t.openBrandIndex].querySelector(".js-brand-selected").innerHTML=o,t.chosen.has(n)?(n.parentNode.classList.remove("is-active"),t.chosen.delete(n)):(n.parentNode.classList.add("is-active"),t.chosen.add(n)),Object(s.h)(".js-press-selected").forEach((function(e){return e.innerText="".concat(t.chosen.size," selected")}))})),Z(this,"handleToggleClick",(function(e){for(var t=e.currentTarget.parentNode.querySelectorAll(".js-press-selectable"),n=e.currentTarget.parentNode.querySelectorAll(".js-press-selectable.is-active"),r=0;r0&&(o.load(e.target),o.observer.unobserve(e.target))}))},(r="handle")in(n=this)?Object.defineProperty(n,r,{value:i,enumerable:!0,configurable:!0,writable:!0}):n[r]=i,this.images=t,this.observer=new IntersectionObserver(this.handle,{root:null,rootMargin:"0px 0px 0px 0px",threshold:[0,0]}),this.init()}var t,n,r;return t=e,(n=[{key:"observe",value:function(){var e=this;this.images.forEach((function(t){return e.observer.observe(t)}))}},{key:"load",value:function(e){var t=e.dataset.lazySrc;Object(s.c)(t).then((function(){e.src=t,e.classList.add("is-loaded")}))}},{key:"destroy",value:function(){this.observer.disconnect(),this.observer=null,this.images=null}},{key:"init",value:function(){this.observe()}}])&&Q(t.prototype,n),r&&Q(t,r),e}();n("XORh");function ee(e,t){for(var n=0;n